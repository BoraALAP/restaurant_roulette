{"version":3,"sources":["main.babel.js"],"names":["app","loca","filtered","destination","place","selected","lat","venue","location","lng","priceTier","price","tier","imgUrl","photos","count","groups","url","console","log","$","css","text","name","distance","rating","contact","phone","tips","pickRandom","array","randomNum","Math","floor","random","length","swal","filterResult","data","filter","googleMaps","desti","showSteps","directionResult","markerArray","stepDisplay","map","myRoute","routes","legs","i","steps","google","maps","Marker","setMap","googleKey","origin","LatLng","long","map_container","mapInfo","center","zoom","directionsService","DirectionsService","Map","position","directionsDisplay","DirectionsRenderer","InfoWindow","route","travelMode","response","status","setDirections","window","alert","fourSquare","what","clientId","clientSecret","ajax","method","dataType","client_id","client_secret","ll","radius","query","openNow","v","fail","err","done","items","then","Promise","resolve","reject","navigator","geolocation","getCurrentPosition","coords","latitude","longitude","init","eventFire","$s3back","$s2direction","$s2change","$s2another","$s1food","on","fadeToggle","$selection","this"],"mappings":"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","file":"main.babel.js","sourcesContent":["const app = {}\napp.loca = {};\napp.filtered = []\napp.destination = {}\n\napp.place = (selected) => {\n\n\tapp.destination = {\n\t\tlat: selected.venue.location.lat,\n\t\tlng: selected.venue.location.lng\n\t}\n\n\tlet priceTier = ''\n\n\tif (selected.venue.price.tier == 1){\n\t\tpriceTier = '$'\n\t} else if (selected.venue.price.tier = 2){\n\t\tpriceTier = '$$'\n\t} else {\n\t\tpriceTier = '$$$'\n\t}\n\n\tlet imgUrl = ''\n\n\tif(selected.venue.photos.count == 0){\n\t\timgUrl = 'assets/img/noimage.jpg'\n\t}else{\n\t\timgUrl = selected.venue.photos.groups[0].url\n\t}\n\n\tconsole.log(selected)\n\t$('#img_container').css(\"background-image\", `url('${imgUrl}')`);\n\n\t$('#place_title').text(selected.venue.name);\n\t$('#distance').text(`${selected.venue.location.distance}m`);\n\t$('#rating').text(selected.venue.rating);\n\t$('#price').text(priceTier);\n\t$('#website').text(selected.venue.url);\n\t$('#phone').text(selected.venue.contact.phone);\n\n\t$('#tip h3').text(selected.tips[0].text);\n\n\tconsole.log(app.loca);\n\tconsole.log(app.destination)\n}\n\napp.pickRandom = (array) => {\n\tconst randomNum = Math.floor(Math.random() * array.length)\n\tif(array.length > 0){\n\t\tapp.place(array[randomNum]);\n\t} else {\n\t\tswal(`Couldn't find any Nice Place for you`);\n\t}\n}\n\napp.filterResult = (data) => {\n\tapp.filtered = data.filter((data) => {\n\t\treturn data.venue.rating > 8.5;\n\t})\n}\n\napp.googleMaps = (loca, desti) => {\n\tapp.googleKey = \"AIzaSyB6UumqnkB2X99K9Eeef_RzAQSENqA3I0k\";\n\n\tlet map;\n\tlet home;\n\tvar markerArray = [];\n\n\tconst origin = new google.maps.LatLng(loca.lat, loca.long);\n\tconst destination = new google.maps.LatLng(desti.lat,desti.lng);\n\tconst map_container = $('#map')[0];\n\tconst mapInfo = {\n\t\tcenter: {\n\t\t\tlat: loca.lat,\n\t\t\tlng: loca.long\n\t\t},\n\t\tzoom: 20\n\t\t\t// styles: options\n\t\t}\n\n\t// Instantiate a directions service.\n\tvar directionsService = new google.maps.DirectionsService;\n\n\tmap = new google.maps.Map(map_container, mapInfo);\n\thome = new google.maps.Marker({\n\t\tposition: new google.maps.LatLng(mapInfo.center.lat, mapInfo.center.lng),\n\t\tmap:map\n\t});\n\n\t// Create a renderer for directions and bind it to the map.\n    var directionsDisplay = new google.maps.DirectionsRenderer({map: map});\n\n    // Instantiate an info window to hold step text.\n    var stepDisplay = new google.maps.InfoWindow;\n    // Display the route between the initial start and end selections.\n\tcalculateAndDisplayRoute(directionsDisplay, directionsService, markerArray, stepDisplay, map);\n\n\tfunction calculateAndDisplayRoute(directionsDisplay, directionsService,\n\t  markerArray, stepDisplay, map) {\n\t\t// First, remove any existing markers from the map.\n\t\tfor (var i = 0; i < markerArray.length; i++) {\n\t\t  markerArray[i].setMap(null);\n\t\t}\n\n\t// Retrieve the start and end locations and create a DirectionsRequest using\n\t// WALKING directions.\n\t\tdirectionsService.route({\n\t\t\torigin: origin,\n\t\t\tdestination: destination,\n\t\t\ttravelMode: 'WALKING'\n\t\t}, function(response, status) {\n\t\t\t// Route the directions and pass the response to a function to create\n\t\t\t// markers for each step.\n\t\t\tif (status === 'OK') {\n\t\t\t\t// document.getElementById('warnings-panel').innerHTML =\n\t\t\t //    '<b>' + response.routes[0].warnings + '</b>';\n\t\t\t\tdirectionsDisplay.setDirections(response);\n\t\t\t\tshowSteps(response, markerArray, stepDisplay, map);\n\t\t\t} else {\n\t\t\t\twindow.alert('Directions request failed due to ' + status);\n\t\t\t}\n\t\t});\n\t}\n\n\tfunction showSteps(directionResult, markerArray, stepDisplay, map) {\n\t\t// For each step, place a marker, and add the text to the marker's infowindow.\n\t\t// Also attach the marker to an array so we can keep track of it and remove it\n\t\t// when calculating new routes.\n\t\tvar myRoute = directionResult.routes[0].legs[0];\n\t\tfor (var i = 0; i < myRoute.steps.length; i++) {\n\t\t\tvar marker = markerArray[i] = markerArray[i] || new google.maps.Marker;\n\t\t\tmarker.setMap(map);\n\t\t\t// marker.setPosition(myRoute.steps[i].start_location);\n\t\t\t// attachInstructionText(stepDisplay, marker, myRoute.steps[i].instructions, map);\n\t\t}\n\t}\n\n\tfunction attachInstructionText(stepDisplay, marker, text, map) {\n\t\tgoogle.maps.event.addListener(marker, 'click', function() {\n\t\t// Open an info window when the marker is clicked on, containing the text\n\t\t// of the step.\n\t\t\tstepDisplay.setContent(text);\n\t\t\tstepDisplay.open(map, marker);\n\t\t});\n\t}\n}\n\napp.fourSquare = (loca, what) => {\n\tapp.clientId = \"VH42GH0DFNZLHDRYB4JULCZIPHD3DA4DUCKVPVBMJQIX350R\";\n\tapp.clientSecret = \"DLDPDU4LK3ZAGTLHFQLC2JEDGNR01X1MCRRS1NF3VQPV22VL\";\n\t$.ajax({\n\t\turl: 'https://api.foursquare.com/v2/venues/explore',\n  \t\tmethod: 'GET',\n  \t\tdataType: \"json\",\n  \t\tdata: {\n\t\t\tclient_id: \"VH42GH0DFNZLHDRYB4JULCZIPHD3DA4DUCKVPVBMJQIX350R\",\n\t\t\tclient_secret: \"DLDPDU4LK3ZAGTLHFQLC2JEDGNR01X1MCRRS1NF3VQPV22VL\",\n\t\t\tll: `${loca.lat},${loca.long}`,\n\t\t\t// section: \"food\",\n\t\t\tradius: 1500,\n\t\t\tquery: `${what}`,\n\t\t\topenNow: 1,\n\t\t\tv: 20171120\n\t\t}\n\t}).fail(function(err){\n\t\tconsole.log(err);\n\t}).done(function(data){\n\t\tapp.filterResult(data.response.groups[\"0\"].items);\n\t}).then(() =>{\n\t\tapp.pickRandom(app.filtered);\n\t})\n}\n\napp.location = () => {\n\treturn new Promise((resolve, reject) => {\n\t\tnavigator.geolocation.getCurrentPosition((position) =>{\n\t\t\tresolve(position);\t\n\t\t\tapp.loca = {\n\t\t\t\tlat: position.coords.latitude,\n\t\t\t\tlong: position.coords.longitude,\n\t\t\t}\n\t\t})\n\t})\n}\n\napp.init = () => {\n}\n\napp.eventFire = () => {\n\tconst $s3back = $('#section3 > .btnblue');\n\tconst $s2direction = $('#section2 .btnblue');\n\tconst $s2change = $('#section2 .btnwhite:first-child');\n\tconst $s2another = $('#section2 .btnwhite:last-child');\n\tconst $s1food = $('.foodbtn');\n\n\t$s3back.on(\"click\", () => {\n\t\t$('#section2').fadeToggle();\n\t\t$('#section3').fadeToggle();\n\t})\n\n\t$s2direction.on(\"click\", () => {\n\t\tapp.googleMaps(app.loca, app.destination);\n\t\t$('#section3').fadeToggle();\n\t\t$('#section2').fadeToggle();\n\n\t})\n\n\t$s2change.on(\"click\", () => {\n\t\t$('#section1').fadeToggle();\n\t\t$('#section2').fadeToggle();\n\t})\n\n\t$s2another.on(\"click\", () => {\n\t\tapp.pickRandom(app.filtered)\n\t\t\n\t})\n\n\t$s1food.on(\"click\", function(){\n\t\tconst $selection = $(this).data('type');\n\t\tconsole.log($selection);\n\n\t\tapp.location().then((resolve) =>{\n\t\t\tapp.fourSquare(app.loca, $selection)\n\t\t})\n\t\t\n\n\t\t$('#section2').fadeToggle();\n\t\t$('#section1').fadeToggle();\n\t})\n}\n\n$(function() {\n\tapp.init();\n\tapp.eventFire();\n});"]}