{"version":3,"sources":["main.babel.js"],"names":["app","loca","googleMaps","googleKey","map","markerArray","origin","google","maps","LatLng","lat","long","destination","map_container","$","mapInfo","center","lng","zoom","console","log","directionsService","DirectionsService","Map","Marker","position","DirectionsRenderer","suppressMarkers","InfoWindow","directionsDisplay","stepDisplay","i","length","setMap","route","travelMode","response","status","fourSquare","what","clientId","clientSecret","ajax","url","method","dataType","data","client_id","client_secret","ll","radius","query","openNow","v","fail","err","done","location","Promise","resolve","reject","navigator","geolocation","getCurrentPosition","coords","latitude","longitude","init","then","eventFire","$s3back","$s2direction","$s2change","$s2another","$s1food","on","fadeToggle","$selection","this"],"mappings":"YAAA,IAAMA,OACNA,KAAIC,QAGJD,IAAIE,WAAa,SAACD,GACjBD,IAAIG,UAAY,yCAEhB,IAAIC,OAAAA,GAEAC,KAEEC,EAAS,GAAIC,QAAOC,KAAKC,OAAOR,EAAKS,IAAKT,EAAKU,MAC/CC,EAAc,GAAIL,QAAOC,KAAKC,OAAO,YAAY,YACjDI,EAAgBC,EAAE,QAAQ,GAC1BC,GACLC,QACCN,IAAKT,EAAKS,IACVO,IAAKhB,EAAKU,MAEVO,KAAM,GAKRC,SAAQC,IAAIL,EAGZ,IAAIM,GAAoB,GAAId,QAAOC,KAAKc,iBAExClB,GAAM,GAAIG,QAAOC,KAAKe,IAAIV,EAAeE,GAClC,GAAIR,QAAOC,KAAKgB,QACtBC,SAAU,GAAIlB,QAAOC,KAAKC,OAAOM,EAAQC,OAAON,IAAKK,EAAQC,OAAOC,KACpEb,IAAIA,GAIsB,IAAIG,QAAOC,KAAKkB,oBAAoBtB,IAAKA,EAAKuB,iBAAiB,IAGrE,GAAIpB,QAAOC,KAAKoB,YAIrC,SAAkCC,EAAmBR,EACnDhB,EAAayB,EAAa1B,GAE3B,IAAK,GAAI2B,GAAI,EAAGA,EAAI1B,EAAY2B,OAAQD,IACtC1B,EAAY0B,GAAGE,OAAO,KAKxBZ,GAAkBa,OACjB5B,OAAQA,EACRM,YAAaA,EACbuB,WAAY,WACV,SAASC,EAAUC,OAfER,EAAmBR,EAAmBhB,IA0DhEL,IAAIsC,WAAa,SAACrC,EAAMsC,GACvBvC,IAAIwC,SAAW,mDACfxC,IAAIyC,aAAe,mDACnB3B,EAAE4B,MACDC,IAAK,+CACHC,OAAQ,MACRC,SAAU,OACVC,MACDC,UAAW,mDACXC,cAAe,mDACfC,GAAOhD,EAAKS,IAAZ,IAAmBT,EAAKU,KAExBuC,OAAQ,KACRC,MAAAA,GAAUZ,EACVa,QAAS,EACTC,EAAG,YAEFC,KAAK,SAASC,GAChBpC,QAAQC,IAAImC,KACVC,KAAK,SAASV,GAChB3B,QAAQC,IAAInB,GACZkB,QAAQC,IAAI0B,MAKd9C,IAAIyD,SAAW,WACd,MAAO,IAAIC,SAAQ,SAACC,EAASC,GAC5BC,UAAUC,YAAYC,mBAAmB,SAACtC,GACzCkC,EAAQlC,GACRzB,IAAIC,MACHS,IAAKe,EAASuC,OAAOC,SACrBtD,KAAMc,EAASuC,OAAOE,gBAO1BlE,IAAImE,KAAO,WACVnE,IAAIyD,WAAWW,KAAK,SAACT,GAEpB3D,IAAIE,WAAWF,IAAIC,SAMrBD,IAAIqE,UAAY,WACf,GAAMC,GAAUxD,EAAE,wBACZyD,EAAezD,EAAE,sBACjB0D,EAAY1D,EAAE,mCACd2D,EAAa3D,EAAE,kCACf4D,EAAU5D,EAAE,WAElBwD,GAAQK,GAAG,QAAS,WACnB7D,EAAE,aAAa8D,aACf9D,EAAE,aAAa8D,eAGhBL,EAAaI,GAAG,QAAS,WACxB7D,EAAE,aAAa8D,aACf9D,EAAE,aAAa8D,eAGhBJ,EAAUG,GAAG,QAAS,WACrB7D,EAAE,aAAa8D,aACf9D,EAAE,aAAa8D,eAGhBH,EAAWE,GAAG,QAAS,cAIvBD,EAAQC,GAAG,QAAS,WACnB,GAAME,GAAa/D,EAAEgE,MAAMhC,KAAK,OAChC3B,SAAQC,IAAIyD,GAEZ7E,IAAIsC,WAAWtC,IAAIC,KAAM4E,GAEzB/D,EAAE,aAAa8D,aACf9D,EAAE,aAAa8D,gBAOjB9D,EAAE,WACDd,IAAImE,OACJnE,IAAIqE","file":"main.babel.js","sourcesContent":["const app = {}\napp.loca = {};\n\n\napp.googleMaps = (loca) => {\n\tapp.googleKey = \"AIzaSyB6UumqnkB2X99K9Eeef_RzAQSENqA3I0k\";\n\n\tlet map;\n\tlet home;\n\tvar markerArray = [];\n\n\tconst origin = new google.maps.LatLng(loca.lat, loca.long);\n\tconst destination = new google.maps.LatLng(43.6518453,-79.3754017);\n\tconst map_container = $('#map')[0];\n\tconst mapInfo = {\n\t\tcenter: {\n\t\t\tlat: loca.lat,\n\t\t\tlng: loca.long\n\t\t\t},\n\t\t\tzoom: 12\n\t\t\t// styles: options\n\t\t}\n\n\n\tconsole.log(mapInfo);\n\n\t// Instantiate a directions service.\n\tvar directionsService = new google.maps.DirectionsService;\n\n\tmap = new google.maps.Map(map_container, mapInfo);\n\thome = new google.maps.Marker({\n\t\tposition: new google.maps.LatLng(mapInfo.center.lat, mapInfo.center.lng),\n\t\tmap:map\n\t});\n\n\t// Create a renderer for directions and bind it to the map.\n    var directionsDisplay = new google.maps.DirectionsRenderer({map: map, suppressMarkers: true});\n\n    // Instantiate an info window to hold step text.\n    var stepDisplay = new google.maps.InfoWindow;\n    // Display the route between the initial start and end selections.\n\tcalculateAndDisplayRoute(directionsDisplay, directionsService, markerArray, stepDisplay, map);\n\n\tfunction calculateAndDisplayRoute(directionsDisplay, directionsService,\n\t  markerArray, stepDisplay, map) {\n\t\t// First, remove any existing markers from the map.\n\t\tfor (var i = 0; i < markerArray.length; i++) {\n\t\t  markerArray[i].setMap(null);\n\t\t}\n\n\t// Retrieve the start and end locations and create a DirectionsRequest using\n\t// WALKING directions.\n\t\tdirectionsService.route({\n\t\t\torigin: origin,\n\t\t\tdestination: destination,\n\t\t\ttravelMode: 'WALKING'\n\t\t}, function(response, status) {\n\t\t\t// Route the directions and pass the response to a function to create\n\t\t\t// markers for each step.\n\t\t\t// if (status === 'OK') {\n\t\t\t// \tdocument.getElementById('warnings-panel').innerHTML =\n\t\t\t//     '<b>' + response.routes[0].warnings + '</b>';\n\t\t\t// \tdirectionsDisplay.setDirections(response);\n\t\t\t// \tshowSteps(response, markerArray, stepDisplay, map);\n\t\t\t// } else {\n\t\t\t// \twindow.alert('Directions request failed due to ' + status);\n\t\t\t// }\n\t\t});\n\t}\n\n\tfunction showSteps(directionResult, markerArray, stepDisplay, map) {\n\t\t// For each step, place a marker, and add the text to the marker's infowindow.\n\t\t// Also attach the marker to an array so we can keep track of it and remove it\n\t\t// when calculating new routes.\n\t\tvar myRoute = directionResult.routes[0].legs[0];\n\t\t// for (var i = 0; i < myRoute.steps.length; i++) {\n\t\t// \tvar marker = markerArray[i] = markerArray[i] || new google.maps.Marker;\n\t\t// \tmarker.setMap(map);\n\t\t// \tmarker.setPosition(myRoute.steps[i].start_location);\n\t\t// \tattachInstructionText(stepDisplay, marker, myRoute.steps[i].instructions, map);\n\t\t// }\n\t}\n\n\tfunction attachInstructionText(stepDisplay, marker, text, map) {\n\t\tgoogle.maps.event.addListener(marker, 'click', function() {\n\t\t// Open an info window when the marker is clicked on, containing the text\n\t\t// of the step.\n\t\t\tstepDisplay.setContent(text);\n\t\t\tstepDisplay.open(map, marker);\n\t\t});\n\t}\n\n\t// home.addListener(\"click\", () =>{\n\t// map.setZoom(20);\n\t// map.setCenter(this.position)\n\t// })\n\n}\n\napp.fourSquare = (loca, what) => {\n\tapp.clientId = \"VH42GH0DFNZLHDRYB4JULCZIPHD3DA4DUCKVPVBMJQIX350R\";\n\tapp.clientSecret = \"DLDPDU4LK3ZAGTLHFQLC2JEDGNR01X1MCRRS1NF3VQPV22VL\";\n\t$.ajax({\n\t\turl: 'https://api.foursquare.com/v2/venues/explore',\n  \t\tmethod: 'GET',\n  \t\tdataType: \"json\",\n  \t\tdata: {\n\t\t\tclient_id: \"VH42GH0DFNZLHDRYB4JULCZIPHD3DA4DUCKVPVBMJQIX350R\",\n\t\t\tclient_secret: \"DLDPDU4LK3ZAGTLHFQLC2JEDGNR01X1MCRRS1NF3VQPV22VL\",\n\t\t\tll: `${loca.lat},${loca.long}`,\n\t\t\t// section: \"food\",\n\t\t\tradius: 1500,\n\t\t\tquery: `${what}`,\n\t\t\topenNow: 1,\n\t\t\tv: 20171120\n\t\t}\n\t}).fail(function(err){\n\t\tconsole.log(err);\n\t}).done(function(data){\n\t\tconsole.log(loca);\n\t\tconsole.log(data);\n\t})\n}\n\n\napp.location = () => {\n\treturn new Promise((resolve, reject) => {\n\t\tnavigator.geolocation.getCurrentPosition((position) =>{\n\t\t\tresolve(position);\t\n\t\t\tapp.loca = {\n\t\t\t\tlat: position.coords.latitude,\n\t\t\t\tlong: position.coords.longitude,\n\t\t\t}\n\t\t})\n\t})\n}\n\n\napp.init = () => {\n\tapp.location().then((resolve) =>{\n\t\t\n\t\tapp.googleMaps(app.loca);\n\t});\n}\n\n\n\napp.eventFire = () => {\n\tconst $s3back = $('#section3 > .btnblue');\n\tconst $s2direction = $('#section2 .btnblue');\n\tconst $s2change = $('#section2 .btnwhite:first-child');\n\tconst $s2another = $('#section2 .btnwhite:last-child');\n\tconst $s1food = $('.foodbtn');\n\n\t$s3back.on(\"click\", () => {\n\t\t$('#section2').fadeToggle();\n\t\t$('#section3').fadeToggle();\n\t})\n\n\t$s2direction.on(\"click\", () => {\n\t\t$('#section3').fadeToggle();\n\t\t$('#section2').fadeToggle();\n\t})\n\n\t$s2change.on(\"click\", () => {\n\t\t$('#section1').fadeToggle();\n\t\t$('#section2').fadeToggle();\n\t})\n\n\t$s2another.on(\"click\", () => {\n\t\t\n\t})\n\n\t$s1food.on(\"click\", function(){\n\t\tconst $selection = $(this).data('type');\n\t\tconsole.log($selection);\n\n\t\tapp.fourSquare(app.loca, $selection);\n\n\t\t$('#section2').fadeToggle();\n\t\t$('#section1').fadeToggle();\n\t})\n}\n\n\n\n\n$(function() {\n\tapp.init();\n\tapp.eventFire();\n});"]}