{"version":3,"sources":["main.babel.js"],"names":["app","loca","filtered","destination","selectedPlace","displayLiked","writeup","img","title","website","phone","firebase","database","ref","userId","uid","on","snapshot","data","val","array","$","map","value","index","reverse","console","log","forEach","item","append","venue","name","url","contact","place","selected","lat","location","lng","priceTier","price","tier","text","distance","rating","tips","length","mapArray","getImage","ajax","id","method","dataType","client_id","client_secret","v","then","placeimage","response","photos","items","prefix","width","height","suffix","css","pickRandom","randomNum","Math","floor","random","swal","filterResult","filter","indexOf","splice","fourSquare","what","clientId","clientSecret","ll","long","radius","query","groups","googleMaps","desti","showSteps","directionResult","markerArray","stepDisplay","myRoute","routes","legs","i","steps","google","maps","Marker","setMap","googleKey","origin","LatLng","map_container","mapInfo","center","zoom","directionsService","DirectionsService","Map","directionsDisplay","DirectionsRenderer","InfoWindow","route","travelMode","status","setDirections","window","alert","Promise","resolve","reject","navigator","geolocation","getCurrentPosition","position","coords","latitude","longitude","dataBase","config","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","initializeApp","auth","onAuthStateChanged","user","currentUser","Log","type","provider","FacebookAuthProvider","GoogleAuthProvider","GithubAuthProvider","pathname","signInWithPopup","result","credential","accessToken","catch","error","code","message","email","eventFire","$s3back","$s2direction","$s2change","$s2another","$s2like","$s1food","$shlog","$shliked","$segoogle","this","addClass","push","setTimeout","removeClass","fadeToggle","empty","fadeOut","fadeIn","$selection","signOut","toggleClass","hasClass","attr","init"],"mappings":"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","file":"main.babel.js","sourcesContent":["const app = {}\napp.loca = {};\napp.filtered = []\napp.destination = {}\n\napp.selectedPlace = {};\n\n\napp.displayLiked = () => {\n\tconst userData = firebase.database().ref(`users/${app.userId.uid}`);\n\n\tconst writeup = (img, title, website, phone) => {\n\t\treturn `<div class=\"container\">\n\t\t\t\t<img src=\"${img}\">\n\t\t\t\t<div class=\"content\">\n\t\t\t\t\t<h1 class=\"place_title\">${title}</h2>\n\t\t\t\t\t<hr>\n\t\t\t\t\t<h2 class=\"website\">${website}</h2>\n\t\t\t\t\t<hr>\n\t\t\t\t\t<h2 class=\"phone\">${phone}</h2>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<hr class=\"content_divider\">`\n\t\n\t}\n\n\tuserData.on('value', function(snapshot) {\n\t\tconst data = snapshot.val();\n\t\tvar array = $.map(data, function(value, index){\n\t\t\treturn value;\n\t\t}).reverse();\n\t\tconsole.log(array);\n\n\t\tarray.forEach(function(item){\n\t\t\t$('#liked_content').append(writeup(\" \", item.venue.name, item.venue.url, item.venue.contact.phone));\n\t\t\t\n\t\t})\n\t});\n}\n\napp.place = (selected) => {\n\tapp.destination = {\n\t\tlat: selected.venue.location.lat,\n\t\tlng: selected.venue.location.lng\n\t}\n\n\tlet priceTier = ''\n\n\tif (selected.venue.price.tier == 1){\n\t\tpriceTier = '$'\n\t} else if (selected.venue.price.tier = 2){\n\t\tpriceTier = '$$'\n\t} else {\n\t\tpriceTier = '$$$'\n\t}\n\n\t$('#section2 .place_title').text(selected.venue.name);\n\t$('#section2 #distance').text(`${selected.venue.location.distance}m`);\n\t$('#section2 .rating').text(selected.venue.rating);\n\t$('#section2 #price').text(priceTier);\n\t$('#section2 #website').text(selected.venue.url);\n\t$('#section2 #phone').text(selected.venue.contact.phone);\n\n\t\n\n\tif(selected.tips.length > 0){\n\t\t$('#tip h3').text(selected.tips[0].text);\n\t} \t\n\n\tapp.mapArray();\n}\n\napp.getImage = (selected) => {\n\t$.ajax({\n\t\turl: `https://api.foursquare.com/v2/venues/${selected.venue.id}/photos`,\n  \t\tmethod: 'GET',\n  \t\tdataType: \"json\",\n  \t\tdata: {\n\t\t\tclient_id: \"VH42GH0DFNZLHDRYB4JULCZIPHD3DA4DUCKVPVBMJQIX350R\",\n\t\t\tclient_secret: \"DLDPDU4LK3ZAGTLHFQLC2JEDGNR01X1MCRRS1NF3VQPV22VL\",\n\t\t\tv: 20171120\n\t\t}\n\t}).then(function(data){\n\t\tconst placeimage = `${data.response.photos.items[0].prefix}${data.response.photos.items[0].width}x${data.response.photos.items[0].height}${data.response.photos.items[0].suffix}`;\n\t\t$('#img_container').css(\"background-image\", `url('${placeimage}')`);\n\t})\n}\n\napp.pickRandom = (array) => {\n\tlet randomNum = Math.floor(Math.random() * app.filtered.length)\n\tif(app.filtered.length > 0){\n\t\tapp.selectedPlace = app.filtered[randomNum];\n\t} else {\n\t\tswal(`Couldn't find any Nice Place for you`);\n\t}\n\tconsole.log(app.filtered);\n\tconsole.log(app.filtered[randomNum]);\t\n}\n\napp.filterResult = (data) => {\n\tapp.filtered = data.filter((data) => {\n\t\treturn data.venue.rating > 8.5;\n\t})\n}\n\napp.mapArray = () => {\n\tconst index = app.filtered.indexOf(app.selectedPlace);\n\tconst newArray = app.filtered.splice(index,1);\n}\n\napp.fourSquare = (loca, what) => {\n\tapp.clientId = \"VH42GH0DFNZLHDRYB4JULCZIPHD3DA4DUCKVPVBMJQIX350R\";\n\tapp.clientSecret = \"DLDPDU4LK3ZAGTLHFQLC2JEDGNR01X1MCRRS1NF3VQPV22VL\";\n\t$.ajax({\n\t\turl: 'https://api.foursquare.com/v2/venues/explore',\n  \t\tmethod: 'GET',\n  \t\tdataType: \"json\",\n  \t\tdata: {\n\t\t\tclient_id: \"VH42GH0DFNZLHDRYB4JULCZIPHD3DA4DUCKVPVBMJQIX350R\",\n\t\t\tclient_secret: \"DLDPDU4LK3ZAGTLHFQLC2JEDGNR01X1MCRRS1NF3VQPV22VL\",\n\t\t\tll: `${loca.lat},${loca.long}`,\n\t\t\t// section: \"food\",\n\t\t\tradius: 1500,\n\t\t\tquery: `${what}`,\n\t\t\t// openNow: 1,\n\t\t\tv: 20171120\n\t\t}\n\t}).then(function(data){\n\t\t\n\t\tapp.filterResult(data.response.groups[\"0\"].items);\n\t}).then(function(){\n\t\tapp.pickRandom(app.filtered);\n\t}).then(function(){\n\t\tapp.place(app.selectedPlace);\n\t\tapp.getImage(app.selectedPlace);\n\t\t// app.mapArray();\n\t\t\n\t})\n}\n\napp.googleMaps = (loca, desti) => {\n\tapp.googleKey = \"AIzaSyB6UumqnkB2X99K9Eeef_RzAQSENqA3I0k\";\n\n\tlet map;\n\tvar markerArray = [];\n\n\tconst origin = new google.maps.LatLng(loca.lat, loca.long);\n\tconst destination = new google.maps.LatLng(desti.lat,desti.lng);\n\tconst map_container = $('#map')[0];\n\tconst mapInfo = {\n\t\tcenter: {\n\t\t\tlat: loca.lat,\n\t\t\tlng: loca.long\n\t\t},\n\t\tzoom: 20\n\t\t\t// styles: options\n\t\t}\n\n\t// Instantiate a directions service.\n\tvar directionsService = new google.maps.DirectionsService;\n\n\tmap = new google.maps.Map(map_container, mapInfo);\n\t// home = new google.maps.Marker({\n\t// \tposition: new google.maps.LatLng(mapInfo.center.lat, mapInfo.center.lng),\n\t// \tmap:map\n\t// });\n\n\t// Create a renderer for directions and bind it to the map.\n    var directionsDisplay = new google.maps.DirectionsRenderer({map: map});\n\n    // Instantiate an info window to hold step text.\n    var stepDisplay = new google.maps.InfoWindow;\n    // Display the route between the initial start and end selections.\n\tcalculateAndDisplayRoute(directionsDisplay, directionsService, markerArray, stepDisplay, map);\n\n\tfunction calculateAndDisplayRoute(directionsDisplay, directionsService,\n\t  markerArray, stepDisplay, map) {\n\t\t// First, remove any existing markers from the map.\n\t\tfor (var i = 0; i < markerArray.length; i++) {\n\t\t  markerArray[i].setMap(null);\n\t\t}\n\n\t// Retrieve the start and end locations and create a DirectionsRequest using\n\t// WALKING directions.\n\t\tdirectionsService.route({\n\t\t\torigin: origin,\n\t\t\tdestination: destination,\n\t\t\ttravelMode: 'WALKING'\n\t\t}, function(response, status) {\n\t\t\t// Route the directions and pass the response to a function to create\n\t\t\t// markers for each step.\n\t\t\tif (status === 'OK') {\n\t\t\t\t// document.getElementById('warnings-panel').innerHTML =\n\t\t\t //    '<b>' + response.routes[0].warnings + '</b>';\n\t\t\t\tdirectionsDisplay.setDirections(response);\n\t\t\t\tshowSteps(response, markerArray, stepDisplay, map);\n\t\t\t} else {\n\t\t\t\twindow.alert('Directions request failed due to ' + status);\n\t\t\t}\n\t\t});\n\t}\n\n\tfunction showSteps(directionResult, markerArray, stepDisplay, map) {\n\t\t// For each step, place a marker, and add the text to the marker's infowindow.\n\t\t// Also attach the marker to an array so we can keep track of it and remove it\n\t\t// when calculating new routes.\n\t\tvar myRoute = directionResult.routes[0].legs[0];\n\t\tfor (var i = 0; i < myRoute.steps.length; i++) {\n\t\t\tvar marker = markerArray[i] = markerArray[i] || new google.maps.Marker;\n\t\t\tmarker.setMap(map);\n\t\t\t// marker.setPosition(myRoute.steps[i].start_location);\n\t\t\t// attachInstructionText(stepDisplay, marker, myRoute.steps[i].instructions, map);\n\t\t}\n\t}\n\n\tfunction attachInstructionText(stepDisplay, marker, text, map) {\n\t\tgoogle.maps.event.addListener(marker, 'click', function() {\n\t\t// Open an info window when the marker is clicked on, containing the text\n\t\t// of the step.\n\t\t\tstepDisplay.setContent(text);\n\t\t\tstepDisplay.open(map, marker);\n\t\t});\n\t}\n}\n\napp.location = () => {\n\treturn new Promise((resolve, reject) => {\n\t\tnavigator.geolocation.getCurrentPosition((position) =>{\n\t\t\tresolve(position);\t\n\t\t\tapp.loca = {\n\t\t\t\tlat: position.coords.latitude,\n\t\t\t\tlong: position.coords.longitude,\n\t\t\t}\n\t\t})\n\t})\n}\n\napp.dataBase = () => {\n\n\tconst config = {\n\t\tapiKey: \"AIzaSyCsA8GKOpORb7xuyhUNH7JhDtFWzJ6IYWg\",\n\t    authDomain: \"project3-f7eba.firebaseapp.com\",\n\t    databaseURL: \"https://project3-f7eba.firebaseio.com\",\n\t    projectId: \"project3-f7eba\",\n\t    storageBucket: \"\",\n\t    messagingSenderId: \"925278152263\"\n\t}\n\n\tfirebase.initializeApp(config);\n\tconst database = firebase.database();\n\n\tfirebase.auth().onAuthStateChanged(function(user) {\n\t\tif (user) {\n\t\t    app.userId = firebase.auth().currentUser;\n\t\t} else {\n\t\t// No user is signed in.\n\t\t}\n\t});\n\t\n}\n\napp.Log = (type) => {\n\tif ( type == \"facebook\"){\n\t\tvar provider = new firebase.auth.FacebookAuthProvider();\n\t} else if ( type == \"google\"){\n\t\tvar provider = new firebase.auth.GoogleAuthProvider();\n\t} else if ( type == \"github\"){\n\t\tvar provider = new firebase.auth.GithubAuthProvider();\n\t}\n\n\tfirebase.auth().onAuthStateChanged(function(user) {\t\n\n\t\tif (!user && window.location.pathname == '/') { \n\t\t\tfirebase.auth().signInWithPopup(provider).then(function(result) {\n\t\t\t// This gives you a Google Access Token. You can use it to access the Google API.\n\t\t\t\tvar token = result.credential.accessToken;\n\t\t\t\t// The signed-in user info.\n\t\t\t\tapp.userId = result.user;\n\t\t\t\tconsole.log(\"push\");\n\t\t\t\t// ...\n\t\t\t}).catch(function(error) {\n\t\t\t\t// Handle Errors here.\n\t\t\t\tvar errorCode = error.code;\n\t\t\t\tvar errorMessage = error.message;\n\t\t\t\t// The email of the user's account used.\n\t\t\t\tvar email = error.email;\n\t\t\t\t// The firebase.auth.AuthCredential type that was used.\n\t\t\t\tvar credential = error.credential;\n\t\t\t\t// ...\n\t\t\t});\n\t\t} else if ( user && window.location.pathname == '/'){\n\t\t\twindow.location = 'app.html';\n\n\t\t} else if ( !user && window.location.pathname == '/app.html'){\n\t\t\twindow.location = '/';\n\t\t}\n\t\t\n\t});\n}\n\n\napp.eventFire = () => {\n\tconst $s3back = $('#section3 .btnblue');\n\tconst $s2direction = $('#section2 .btnblue');\n\tconst $s2change = $('#section2 .btnwhite:first-child');\n\tconst $s2another = $('#section2 .btnwhite:last-child');\n\tconst $s2like = $('#like');\n\tconst $s1food = $('.foodbtn');\n\n\tconst $shlog = $('#log_in');\n\tconst $shliked = $('#liked');\n\n\tconst $segoogle = $('#loginSection > div');\n\n\n\t$s2like.on(\"click\", function(){\n\t\t$(this).addClass('animation');\n\t\tfirebase.database().ref(`/users/${firebase.auth().currentUser.uid}`).push(app.selectedPlace);\n\t\tsetTimeout(function(){\n\t\t\t$s2like.removeClass('animation');\n\t\t},2000);\n\t\t\n\t\tconsole.log(\"saved\");\n\t})\n\n\t$s3back.on(\"click\", () => {\n\t\t$('#section2').fadeToggle();\n\t\t$('#section3').fadeToggle();\n\t\t$('#map').empty();\n\t})\n\n\t$s2direction.on(\"click\", () => {\n\t\tapp.googleMaps(app.loca, app.destination);\n\t\t$('#section3').fadeToggle();\n\t\t$('#section2').fadeToggle();\n\n\t})\n\n\t$s2change.on(\"click\", () => {\n\t\t$('#section1').fadeToggle();\n\t\t$('#section2').fadeToggle();\n\t})\n\n\t$s2another.on(\"click\", () => {\n\t\tconst action = new Promise (function (resolve){\n\t\t\t$('#section2').fadeOut();\n\t\t\t// setTimeout(function(){\n\t\t\t\tresolve()\n\t\t\t// },2000);\n\t\t}).then(function(){\n\t\t\tapp.pickRandom(app.filtered);\n\t\t\tapp.place(app.selectedPlace);\n\t\t\tapp.getImage(app.selectedPlace);\n\t\t}).then(function(){\n\t\t\t$('#section2').fadeIn();\n\t\t\tconsole.log(\"clicked\")\n\t\t})\n\t\t\n\t})\n\n\t$s1food.on(\"click\", function(){\n\t\tconst $selection = $(this).data('type');\n\n\t\tapp.location().then((resolve) =>{\n\t\t\tapp.fourSquare(app.loca, $selection)\n\t\t})\n\t\t$('#section2').fadeToggle();\n\t\t$('#section1').fadeToggle();\n\t})\n\n\t$shlog.on(\"click\",function(){\n\t\tconsole.log(\"clicked\")\n\t\tif (window.location.pathname != '/' ){\n\t\t\tfirebase.auth().signOut().then(function() {\n\t\t\t\twindow.location = '/';\n\t\t\t\tconsole.log(\"logedout\");\n\t\t\t}).catch(function(error) {\n\t\t\t  console.log(error);\n\t\t\t});\n\t\t}\n\t})\n\n\t$segoogle.on(\"click\", function(){\n\t\tlet selected = $(this).data('log');\n\t\tconsole.log(selected);\n\t\tapp.Log(selected);\n\t})\n\n\t$shliked.on(\"click\", function(){\n\t\t$('#liked_content').empty();\n\t\t$('#section2').fadeToggle();\n\t\t$('#liked_content').fadeToggle();\n\t\t$('#liked_content').toggleClass('active');\n\t\tapp.displayLiked();\t\n\n\t\tif($('#liked_content').hasClass('active')){\n\t\t\t$('#liked img').attr('src', 'assets/svg/close.svg');\n\t\t} else {\n\t\t\t$('#liked img').attr('src', 'assets/svg/like.svg');\n\t\t}\n\n\t})\n}\n\napp.init = () => {\n\tapp.dataBase();\n}\n$(function() {\n\tapp.init();\n\tapp.eventFire();\n});"]}