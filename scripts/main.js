"use strict";var app={};app.loca={},app.filtered=[],app.destination={},app.place=function(e){app.destination={lat:e.venue.location.lat,lng:e.venue.location.lng};var n="";n=1==e.venue.price.tier?"$":(e.venue.price.tier=2)?"$$":"$$$";var o="";o=0==e.venue.photos.count?"assets/img/noimage.jpg":e.venue.photos.groups[0].url,console.log(e),$("#img_container").css("background-image","url('"+o+"')"),$("#place_title").text(e.venue.name),$("#distance").text(e.venue.location.distance+"m"),$("#rating").text(e.venue.rating),$("#price").text(n),$("#website").text(e.venue.url),$("#phone").text(e.venue.contact.phone),$("#tip h3").text(e.tips[0].text),console.log(app.loca),console.log(app.destination)},app.pickRandom=function(e){var n=Math.floor(Math.random()*e.length);e.length>0?app.place(e[n]):swal("Couldn't find any Nice Place for you")},app.filterResult=function(e){app.filtered=e.filter(function(e){return e.venue.rating>8.5})},app.googleMaps=function(e,n){function o(e,n,o,t){for(var a=e.routes[0].legs[0],i=0;i<a.steps.length;i++){(n[i]=n[i]||new google.maps.Marker).setMap(t)}}app.googleKey="AIzaSyB6UumqnkB2X99K9Eeef_RzAQSENqA3I0k";var t=void 0,a=[],i=new google.maps.LatLng(e.lat,e.long),p=new google.maps.LatLng(n.lat,n.lng),l=$("#map")[0],c={center:{lat:e.lat,lng:e.long},zoom:20},r=new google.maps.DirectionsService;t=new google.maps.Map(l,c),new google.maps.Marker({position:new google.maps.LatLng(c.center.lat,c.center.lng),map:t});var s=new google.maps.DirectionsRenderer({map:t}),g=new google.maps.InfoWindow;!function(e,n,t,a,l){for(var c=0;c<t.length;c++)t[c].setMap(null);n.route({origin:i,destination:p,travelMode:"WALKING"},function(n,i){"OK"===i?(e.setDirections(n),o(n,t,a,l)):window.alert("Directions request failed due to "+i)})}(s,r,a,g,t)},app.fourSquare=function(e,n){app.clientId="VH42GH0DFNZLHDRYB4JULCZIPHD3DA4DUCKVPVBMJQIX350R",app.clientSecret="DLDPDU4LK3ZAGTLHFQLC2JEDGNR01X1MCRRS1NF3VQPV22VL",$.ajax({url:"https://api.foursquare.com/v2/venues/explore",method:"GET",dataType:"json",data:{client_id:"VH42GH0DFNZLHDRYB4JULCZIPHD3DA4DUCKVPVBMJQIX350R",client_secret:"DLDPDU4LK3ZAGTLHFQLC2JEDGNR01X1MCRRS1NF3VQPV22VL",ll:e.lat+","+e.long,radius:1500,query:""+n,openNow:1,v:20171120}}).fail(function(e){console.log(e)}).done(function(e){app.filterResult(e.response.groups[0].items)}).then(function(){app.pickRandom(app.filtered)})},app.location=function(){return new Promise(function(e,n){navigator.geolocation.getCurrentPosition(function(n){e(n),app.loca={lat:n.coords.latitude,long:n.coords.longitude}})})},app.init=function(){},app.eventFire=function(){var e=$("#section3 > .btnblue"),n=$("#section2 .btnblue"),o=$("#section2 .btnwhite:first-child"),t=$("#section2 .btnwhite:last-child"),a=$(".foodbtn");e.on("click",function(){$("#section2").fadeToggle(),$("#section3").fadeToggle()}),n.on("click",function(){app.googleMaps(app.loca,app.destination),$("#section3").fadeToggle(),$("#section2").fadeToggle()}),o.on("click",function(){$("#section1").fadeToggle(),$("#section2").fadeToggle()}),t.on("click",function(){app.pickRandom(app.filtered)}),a.on("click",function(){var e=$(this).data("type");console.log(e),app.location().then(function(n){app.fourSquare(app.loca,e)}),$("#section2").fadeToggle(),$("#section1").fadeToggle()})},$(function(){app.init(),app.eventFire()});
//# sourceMappingURL=main.js.map